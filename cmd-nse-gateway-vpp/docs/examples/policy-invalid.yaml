# 无效的IP策略配置示例
#
# 此文件包含故意的配置错误，用于测试Gateway的配置验证功能
# 网关应该检测到这些错误并拒绝启动
#
# 测试方法：
#   export NSM_IP_POLICY_CONFIG_PATH=/path/to/policy-invalid.yaml
#   ./bin/cmd-nse-gateway-vpp
#   预期结果：程序记录错误并退出

# 错误1：无效的defaultAction值
# 正确值应该是"allow"或"deny"
defaultAction: "maybe"  # ❌ 无效值

# 错误2：allowList中包含无效的IP地址
allowList:
  - "192.168.1.999"      # ❌ IP地址超出范围（999 > 255）
  - "not-an-ip"          # ❌ 完全不是IP地址
  - "10.0.0.0/33"        # ❌ 无效的CIDR（子网掩码不能大于32）

# 错误3：denyList中包含无效的格式
denyList:
  - "172.16.0.256"       # ❌ IP地址超出范围

# 预期的错误消息：
# - "defaultAction must be 'allow' or 'deny', got: maybe"
# - "invalid IP in allowList: 192.168.1.999"
# - "invalid IP in allowList: not-an-ip"
# - "invalid IP in allowList: 10.0.0.0/33"
# - "invalid IP in denyList: 172.16.0.256"
#
# 网关应该：
# 1. 记录详细的错误信息
# 2. 拒绝启动（os.Exit(1)）
# 3. 不进入不确定状态
